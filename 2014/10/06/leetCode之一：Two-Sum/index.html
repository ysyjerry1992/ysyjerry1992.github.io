<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>leetCode之一：Two Sum | Yusiyuan&#39;s Blog</title>
  <meta name="author" content="Jerry Yu">
  
  <meta name="description" content="这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="leetCode之一：Two Sum"/>
  <meta property="og:site_name" content="Yusiyuan&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Yusiyuan&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>文章
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>关于我
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> leetCode之一：Two Sum</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <p>这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。<br><a id="more"></a></p>
<blockquote>
<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p>Input: numbers={2, 7, 11, 15}, target=9</p>
<p>Output: index1=1, index2=2</p>
</blockquote>
<h2 id="方法">方法</h2>
<p>最傻瓜的方法当然是直接在数组中对每一个数都去遍历其他数看和是不是目标数。那样的话，复杂度会达到O(n^2)，即使做一些剪枝也是通不过的。</p>
<p>接下去想到的就是先对这个数组进行排序，接下去用两个指针p1和p2，一个指向最小数，一个指向最大数，然后判断两数相加得到的值如果大于目标数，那么数组中没有一个数可以和p2指向的数相加等于目标数，所以移动p2指针指向较小的一个数，反之则移动p1指针。这样的话复杂度达到O(nlogn)。</p>
<h2 id="困难">困难</h2>
<p>而在代码实现的过程中，遇到的一个小困难就是当你对数组进行排序的时候，数组内数的位置被打乱，返回的索引值可能不是在原先数组中的索引值。</p>
<p>所以在排序的时候，就写了一个struct Node将其索引值保存下来用于返回。</p>
<h2 id="代码">代码</h2>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">struct Node</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> <span class="keyword">index</span>;</div><div class="line">    <span class="keyword">int</span> value;</div><div class="line">    Node(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</div><div class="line">    {</div><div class="line">        <span class="keyword">index</span>=a;</div><div class="line">        value=b;</div><div class="line">    }</div><div class="line">};</div><div class="line">bool cmp(Node a, Node b)</div><div class="line">{</div><div class="line">    <span class="keyword">return</span> a.value &lt; b.value;</div><div class="line">}</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    vector&lt;<span class="keyword">int</span>&gt; twoSum(vector&lt;<span class="keyword">int</span>&gt; &amp;numbers, <span class="keyword">int</span> target)</div><div class="line">    {</div><div class="line">        vector &lt;Node&gt; table;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numbers.size(); i++)</div><div class="line">        {</div><div class="line">            Node n(i,numbers[i]);</div><div class="line">            table.push_back(n);</div><div class="line">        }</div><div class="line">        <span class="comment">//quicksort(table,0,table.size());</span></div><div class="line">        sort(table.begin(), table.end(), cmp);</div><div class="line">        <span class="keyword">int</span> p1=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> p2=table.size()-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(p1&lt;=p2)</div><div class="line">        {</div><div class="line">            <span class="keyword">if</span>(table[p1].value+table[p2].value==target)</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(table[p1].value+table[p2].value&lt;target)</div><div class="line">                p1++;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                p2--;</div><div class="line">        }</div><div class="line">        vector&lt;<span class="keyword">int</span>&gt; answer;</div><div class="line">        <span class="keyword">if</span>(table[p1].<span class="keyword">index</span>&lt;=table[p2].<span class="keyword">index</span>)</div><div class="line">        {</div><div class="line">            answer.push_back(table[p1].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">            answer.push_back(table[p2].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">else</span></div><div class="line">        {</div><div class="line">            answer.push_back(table[p2].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">            answer.push_back(table[p1].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> answer;</div><div class="line">    }</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">void</span> quicksort(vector&lt;Node&gt;&amp; v,<span class="keyword">int</span> start,<span class="keyword">int</span> en)</div><div class="line">    {</div><div class="line">        <span class="keyword">if</span>(start&gt;=en-<span class="number">1</span>)<span class="keyword">return</span>;</div><div class="line">        <span class="keyword">int</span> <span class="keyword">index</span>=start;</div><div class="line">        Node n=v[start];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=start+<span class="number">1</span>; i&lt;en; i++)</div><div class="line">        {</div><div class="line">            <span class="keyword">if</span>(v[i].value&lt;n.value)</div><div class="line">            {</div><div class="line">                <span class="keyword">index</span>++;</div><div class="line">                Node t=v[i];</div><div class="line">                v[i]=v[<span class="keyword">index</span>];</div><div class="line">                v[<span class="keyword">index</span>]=t;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        v[start]=v[<span class="keyword">index</span>];</div><div class="line">        v[<span class="keyword">index</span>]=n;</div><div class="line">        quicksort(v,start,<span class="keyword">index</span>);</div><div class="line">        quicksort(v,<span class="keyword">index</span>+<span class="number">1</span>,en);</div><div class="line">    }</div><div class="line">};</div></pre></td></tr></table></figure></p>
<h2 id="小插曲">小插曲</h2>
<p>这里还有一个小插曲，就是当我使用自己写的quicksort的时候，就怎么也通不过，最后用了algorithm库中的sort才通过，查了一下网上的说法是这个sort函数是改进后的快排，&gt;.&lt;好吧。</p>
<h2 id="其他方法">其他方法</h2>
<p>用这个方法其实就通过了，不过还有一种空间换时间的方法就是先遍历一边数组，找出最大数，然后建立相应大小的hash，对每个数都去找目标数减它的数看是不是在hash里，这样的话时间复杂度可以达到O(n)。我也没有具体去写，所以也就没有代码啦。</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/2014/10/07/leetCode之二：Median-of-Two-Sorted-Array/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2014/09/28/个人页面建设完成/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<div>
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>

  
  <div class="ds-thread" data-thread-key="post-leetCode之一：Two-Sum" data-title="leetCode之一：Two Sum" data-url="http://ysyjerry1992.github.io/2014/10/06/leetCode之一：Two-Sum/"></div>
  
</section>


	</div>
	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	10月 6 2014 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/leetCode/">leetCode<span>17</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/c/">c++<span>17</span></a></li> <li><a href="/tags/算法/">算法<span>9</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->
	

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2015 Jerry Yu
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var duoshuoQuery = {short_name:"yusiyuan"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
/*var disqus_shortname = 'yusiyuan';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());*/
</script>



	



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fbf6268b95d8220ab2e7f31ba95b690e5' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
   </html>
