<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="c++,算法," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。">
<meta property="og:type" content="article">
<meta property="og:title" content="leetCode之一：Two Sum">
<meta property="og:url" content="http://ysyjerry1992.github.io/2014/10/06/leetCode之一：Two-Sum/">
<meta property="og:site_name" content="Yusiyuan's Blog">
<meta property="og:description" content="这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="leetCode之一：Two Sum">
<meta name="twitter:description" content="这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。">




<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> leetCode之一：Two Sum | Yusiyuan's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Yusiyuan's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Start from here</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                leetCode之一：Two Sum
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2014-10-06T21:08:46+08:00" content="10月 6 2014">
              10月 6 2014
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/leetCode/" itemprop="url" rel="index">
                    <span itemprop="name">leetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/06/leetCode之一：Two-Sum/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/06/leetCode之一：Two-Sum/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这是之前刚开学无聊的时候刷的oj，找出数组中是否有两个数和等于目标数。在这里贴出我做的过程，也是希望能够勉励自己继续坚持。<br><a id="more"></a></p>
<blockquote>
<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p>Input: numbers={2, 7, 11, 15}, target=9</p>
<p>Output: index1=1, index2=2</p>
</blockquote>
<h2 id="方法">方法</h2>
<p>最傻瓜的方法当然是直接在数组中对每一个数都去遍历其他数看和是不是目标数。那样的话，复杂度会达到O(n^2)，即使做一些剪枝也是通不过的。</p>
<p>接下去想到的就是先对这个数组进行排序，接下去用两个指针p1和p2，一个指向最小数，一个指向最大数，然后判断两数相加得到的值如果大于目标数，那么数组中没有一个数可以和p2指向的数相加等于目标数，所以移动p2指针指向较小的一个数，反之则移动p1指针。这样的话复杂度达到O(nlogn)。</p>
<h2 id="困难">困难</h2>
<p>而在代码实现的过程中，遇到的一个小困难就是当你对数组进行排序的时候，数组内数的位置被打乱，返回的索引值可能不是在原先数组中的索引值。</p>
<p>所以在排序的时候，就写了一个struct Node将其索引值保存下来用于返回。</p>
<h2 id="代码">代码</h2>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">struct Node</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> <span class="keyword">index</span>;</div><div class="line">    <span class="keyword">int</span> value;</div><div class="line">    Node(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</div><div class="line">    {</div><div class="line">        <span class="keyword">index</span>=a;</div><div class="line">        value=b;</div><div class="line">    }</div><div class="line">};</div><div class="line">bool cmp(Node a, Node b)</div><div class="line">{</div><div class="line">    <span class="keyword">return</span> a.value &lt; b.value;</div><div class="line">}</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    vector&lt;<span class="keyword">int</span>&gt; twoSum(vector&lt;<span class="keyword">int</span>&gt; &amp;numbers, <span class="keyword">int</span> target)</div><div class="line">    {</div><div class="line">        vector &lt;Node&gt; table;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numbers.size(); i++)</div><div class="line">        {</div><div class="line">            Node n(i,numbers[i]);</div><div class="line">            table.push_back(n);</div><div class="line">        }</div><div class="line">        <span class="comment">//quicksort(table,0,table.size());</span></div><div class="line">        sort(table.begin(), table.end(), cmp);</div><div class="line">        <span class="keyword">int</span> p1=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> p2=table.size()-<span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(p1&lt;=p2)</div><div class="line">        {</div><div class="line">            <span class="keyword">if</span>(table[p1].value+table[p2].value==target)</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(table[p1].value+table[p2].value&lt;target)</div><div class="line">                p1++;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                p2--;</div><div class="line">        }</div><div class="line">        vector&lt;<span class="keyword">int</span>&gt; answer;</div><div class="line">        <span class="keyword">if</span>(table[p1].<span class="keyword">index</span>&lt;=table[p2].<span class="keyword">index</span>)</div><div class="line">        {</div><div class="line">            answer.push_back(table[p1].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">            answer.push_back(table[p2].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">else</span></div><div class="line">        {</div><div class="line">            answer.push_back(table[p2].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">            answer.push_back(table[p1].<span class="keyword">index</span>+<span class="number">1</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> answer;</div><div class="line">    }</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">void</span> quicksort(vector&lt;Node&gt;&amp; v,<span class="keyword">int</span> start,<span class="keyword">int</span> en)</div><div class="line">    {</div><div class="line">        <span class="keyword">if</span>(start&gt;=en-<span class="number">1</span>)<span class="keyword">return</span>;</div><div class="line">        <span class="keyword">int</span> <span class="keyword">index</span>=start;</div><div class="line">        Node n=v[start];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=start+<span class="number">1</span>; i&lt;en; i++)</div><div class="line">        {</div><div class="line">            <span class="keyword">if</span>(v[i].value&lt;n.value)</div><div class="line">            {</div><div class="line">                <span class="keyword">index</span>++;</div><div class="line">                Node t=v[i];</div><div class="line">                v[i]=v[<span class="keyword">index</span>];</div><div class="line">                v[<span class="keyword">index</span>]=t;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        v[start]=v[<span class="keyword">index</span>];</div><div class="line">        v[<span class="keyword">index</span>]=n;</div><div class="line">        quicksort(v,start,<span class="keyword">index</span>);</div><div class="line">        quicksort(v,<span class="keyword">index</span>+<span class="number">1</span>,en);</div><div class="line">    }</div><div class="line">};</div></pre></td></tr></table></figure></p>
<h2 id="小插曲">小插曲</h2>
<p>这里还有一个小插曲，就是当我使用自己写的quicksort的时候，就怎么也通不过，最后用了algorithm库中的sort才通过，查了一下网上的说法是这个sort函数是改进后的快排，&gt;.&lt;好吧。</p>
<h2 id="其他方法">其他方法</h2>
<p>用这个方法其实就通过了，不过还有一种空间换时间的方法就是先遍历一边数组，找出最大数，然后建立相应大小的hash，对每个数都去找目标数减它的数看是不是在hash里，这样的话时间复杂度可以达到O(n)。我也没有具体去写，所以也就没有代码啦。</p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/c/" rel="tag">#c++</a>
          
            <a href="/tags/算法/" rel="tag">#算法</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/09/28/个人页面建设完成/" rel="next" title="个人页面建设完成">
                <i class="fa fa-chevron-left"></i> 个人页面建设完成
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/10/07/leetCode之二：Median-of-Two-Sorted-Array/" rel="prev" title="leetCode之二：Median of Two Sorted Array">
                leetCode之二：Median of Two Sorted Array <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2014/10/06/leetCode之一：Two-Sum/"
           data-title="leetCode之一：Two Sum" data-url="http://ysyjerry1992.github.io/2014/10/06/leetCode之一：Two-Sum/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Jerry Yu" />
          <p class="site-author-name" itemprop="name">Jerry Yu</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ysyjerry1992" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.linkedin.com/pub/%E6%80%9D%E6%BA%90-%E8%99%9E/97/360/765" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  LinkedIn
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1786236853/info" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Friends
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://jerryzou.com/" title="Jerry Zou" target="_blank">Jerry Zou</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://lizheming.top/" title="Zheming Li" target="_blank">Zheming Li</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://lijingjing.top/" title="Jingjing Li" target="_blank">Jingjing Li</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#方法"><span class="nav-number">1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#困难"><span class="nav-number">2.</span> <span class="nav-text">困难</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码"><span class="nav-number">3.</span> <span class="nav-text">代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#小插曲"><span class="nav-number">4.</span> <span class="nav-text">小插曲</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他方法"><span class="nav-number">5.</span> <span class="nav-text">其他方法</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jerry Yu</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"yusiyuan"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  






  
  
  

  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


</body>
</html>
